#create_question

  = form_for Question.new, html: {class: "new_conversation form_do_not_clear"}, remote: true do |question|
    
  
    %span Type:
    = select_tag "question[qtype]", "<option selected='selected' value='multiple_choice'>Multiple Choice</option><option value='fill_in_the_blanks'>Fill in the Blanks</option><option value='true_false'>True/False</option>".html_safe 
    %span Mark:
    = text_field_tag 'question[mark]', '1', :style => 'width:10%;' 
    %span Points
      
    %div{:style => 'background-color:#eee'}
      %span#question_title Question    
      = text_field_tag 'question[description]', nil, :placeholder => 'Type a question..', :style => 'width:95%;'
      %span#question_hint{:style => 'display:none;'} Use _____ (underscore) to show the blank field.
        
        
      %span#option_title{:style => 'margin-top:10px;'} Possible Answers
      %span#question_options
        = text_field_tag 'question[answer1]', nil, :placeholder => 'First Answer..', :style => 'width:50%;'
        = text_field_tag 'question[answer2]', nil, :placeholder => 'Second Answer..', :style => 'width:50%;'
        = text_field_tag 'question[answer3]', nil, :placeholder => 'Third Answer..', :size => 'width:50%;'
        = text_field_tag 'question[answer4]', nil, :placeholder => 'Fourth Answer..', :size => 'width:50%;'

      
      %span#answer_title{:style => 'margin-top:10px;'} Correct Answer
      %span#question_correct_answer
        = select_tag "question[answer]", "<option selected='selected' value='1'>1</option><option value='2'>2</option><option value='3'>3</option><option value='4'>4</option>".html_safe 
        
      %br
      = button_tag "Cancel", :type => 'button', :id => 'question_form_cancel', :class => 'button'        
      = question.submit "Add", 'data-disable-with' => "In Progress..", :class => 'button creation'


:javascript

  $('#question_qtype').change(function() {
      
    if($('#question_qtype').val() == "multiple_choice") {
      $('#question_description').val('');
      $('#question_hint').hide();
      $('#option_title').show();
      //$('#question_title').empty().text("Question");
      $('#question_options').append('<input id="answer1" type="text" style="width:50%;" placeholder="First Answer..." name="question[answer1]"><input id="answer2" type="text" style="width:50%;" placeholder="Second Answer..." name="question[answer2]"><input id="answer3" type="text" style="width:50%;" placeholder="Third Answer..." name="question[answer3]"><input id="answer4" type="text" style="width:50%;" placeholder="Fourth Answer..." name="question[answer4]">');
      $('#question_correct_answer').empty().append('<select name="question[answer]"><option selected="selected" value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option></select>');
      
    }
    else if($('#question_qtype').val() == "true_false"){
      //$('#question_title').empty().text("Question");
      $('#question_description').val('');
      $('#question_hint').hide();
      $('#option_title').hide();
      $('#question_options').empty().hide();      
      //$('#question_options').empty().hide();
      //$('#question_options').text('Do Nothing! True and False options will be shown.');
      $('#question_correct_answer').empty().append('<input type="radio" name="question[answer]" value="true">True<input type="radio" name="question[answer]" value="false">False');
      
    }
    else if($('#question_qtype').val() == "fill_in_the_blanks"){
      $('#question_description').val('');
      $('#question_hint').show();
      $('#option_title').hide();
      //$('#question_title').empty().text("Question, Use _____ (underscore) to show the blank field.");
      //$('#question_options').empty().text('Do nothing! A blank box to shown for the answer.');
      $('#question_correct_answer').empty().append('<input type="text", value="" style="width:50%;" name="question[answer]" />');
    }
  });
